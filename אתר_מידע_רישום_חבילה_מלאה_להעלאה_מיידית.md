# מבנה הפרויקט

```
project/
├── index.html        # דף בית
├── info.html         # דף מידע
├── register.html     # דף רישום (טופס + לוח שנה וזמנים)
├── style.css         # עיצוב כללי
├── script.js         # לוגיקה של טופס הרישום וחיבור ל-Google Apps Script
├── apps_script.gs    # קוד לצד שרת (Google Apps Script) שמחובר ל-Google Sheets
└── README.md         # הוראות הפעלה וחיבור ל-Google Sheets
```

---

## index.html (דף בית)
```html
<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>בית | פרויקט לתלמידים</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;600;800&display=swap" rel="stylesheet">
</head>
<body>
  <header class="site-header">
    <div class="container">
      <a class="logo" href="index.html">פרויקט לתלמידים</a>
      <nav class="nav">
        <a href="index.html" class="active">בית</a>
        <a href="info.html">מידע</a>
        <a href="register.html" class="cta">רישום</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <h1>ברוכים הבאים לפרויקט</h1>
      <p>אתר מידע ופעילות לתלמידים. כאן תוכלו לקרוא על הפעילות ולשריין מועד נוח.</p>
      <div class="hero-actions">
        <a class="btn" href="info.html">למד עוד</a>
        <a class="btn btn-primary" href="register.html">עבור לרישום</a>
      </div>
    </section>

    <section class="features-grid">
      <article class="feature-card">
        <h3>תוכן ברור</h3>
        <p>הסברים קצרים, תמונות ותרשימים – מותאם לתלמידים.</p>
      </article>
      <article class="feature-card">
        <h3>רישום מהיר</h3>
        <p>בחרו תאריך ושעה פנויה ושלחו פרטים – וזהו.</p>
      </article>
      <article class="feature-card">
        <h3>זמינות אונליין</h3>
        <p>האתר פועל במחשב ובנייד, בכל זמן ומקום.</p>
      </article>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <span>© 2025 פרויקט לתלמידים</span>
    </div>
  </footer>
</body>
</html>
```

---

## info.html (דף מידע)
```html
<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>מידע | פרויקט לתלמידים</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;600;800&display=swap" rel="stylesheet">
</head>
<body>
  <header class="site-header">
    <div class="container">
      <a class="logo" href="index.html">פרויקט לתלמידים</a>
      <nav class="nav">
        <a href="index.html">בית</a>
        <a href="info.html" class="active">מידע</a>
        <a href="register.html" class="cta">רישום</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <article class="content">
      <h1>על הפרויקט</h1>
      <p>
        כאן ניתן לכתוב הסבר כללי על הארגון/הפרויקט: מטרות, פעילויות, ערכים ולמי זה מיועד.
        הוסף תמונות, קישורים ומידע שימושי לתלמידים ולהורים.
      </p>

      <h2>איך זה עובד?</h2>
      <ol>
        <li>קוראים את המידע כאן כדי להבין מה מצפים מהמשתתפים.</li>
        <li>נכנסים לעמוד הרישום ובוחרים תאריך ושעה פנויה.</li>
        <li>ממלאים פרטי קשר ומקבלים אישור.</li>
      </ol>

      <h2>שאלות נפוצות</h2>
      <details>
        <summary>כמה זמן נמשכת הפעילות?</summary>
        <p>כ-45 דקות. ניתן להתאים לפי צורך.</p>
      </details>
      <details>
        <summary>מה להביא?</summary>
        <p>מים, מצב רוח טוב, וכל מסמך שנשלח מראש במייל.</p>
      </details>

      <figure class="illustration">
        <img src="https://images.unsplash.com/photo-1513258496099-48168024aec0?q=80&w=1400&auto=format&fit=crop" alt="תלמידים לומדים" />
        <figcaption>למידה שיתופית – תמונה להמחשה.</figcaption>
      </figure>
    </article>
  </main>

  <footer class="site-footer">
    <div class="container">
      <span>© 2025 פרויקט לתלמידים</span>
    </div>
  </footer>
</body>
</html>
```

---

## register.html (טופס רישום + לוח שנה וזמנים)
```html
<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>רישום | פרויקט לתלמידים</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;600;800&display=swap" rel="stylesheet">
</head>
<body>
  <header class="site-header">
    <div class="container">
      <a class="logo" href="index.html">פרויקט לתלמידים</a>
      <nav class="nav">
        <a href="index.html">בית</a>
        <a href="info.html">מידע</a>
        <a href="register.html" class="active cta">רישום</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="content">
      <h1>רישום לפעילות</h1>
      <p>בחרו תאריך ושעה פנויה, מלאו פרטים ולחצו על "שליחה". אישור יישלח לאחר קליטת הבקשה.</p>

      <form id="registration-form" class="card" autocomplete="on">
        <div class="grid-2">
          <label>
            <span>שם מלא</span>
            <input type="text" name="fullName" required placeholder="ישראל ישראלי" />
          </label>
          <label>
            <span>דוא"ל</span>
            <input type="email" name="email" required placeholder="you@example.com" />
          </label>
          <label>
            <span>טלפון</span>
            <input type="tel" name="phone" required placeholder="050-1234567" pattern="[0-9\-\+\s]{7,}" />
          </label>
          <label>
            <span>תאריך</span>
            <input type="date" name="date" id="datePicker" required />
          </label>
          <label>
            <span>שעה</span>
            <select name="time" id="timeSelect" required>
              <option value="" disabled selected>בחר שעה…</option>
            </select>
          </label>
          <label>
            <span>הערות (לא חובה)</span>
            <input type="text" name="notes" placeholder="כל מידע נוסף" />
          </label>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">שליחה</button>
          <button type="reset" class="btn" id="resetBtn">איפוס</button>
        </div>

        <p id="status" class="status" role="status" aria-live="polite"></p>
      </form>

      <aside class="hint">
        <strong>שימו לב:</strong> המערכת בודקת תפוסה ומונעת הזמנת אותו מועד פעמיים.
      </aside>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <span>© 2025 פרויקט לתלמידים</span>
    </div>
  </footer>

  <script src="script.js"></script>
</body>
</html>
```

---

## style.css (עיצוב כללי)
```css
:root{
  --bg:#0f172a;           /* slate-900 */
  --card:#111827;         /* gray-900 */
  --muted:#94a3b8;        /* slate-400 */
  --text:#e5e7eb;         /* gray-200 */
  --primary:#22c55e;      /* green-500 */
  --primary-600:#16a34a;  /* green-600 */
  --ring:#10b98133;       /* green ring */
  --border:#1f2937;       /* gray-800 */
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Heebo,system-ui,Arial; background:var(--bg); color:var(--text);
}
.container{width:min(1100px,92%); margin-inline:auto}
.site-header{position:sticky; top:0; background:rgba(15,23,42,.7); backdrop-filter:saturate(140%) blur(8px); border-bottom:1px solid var(--border); z-index:10}
.site-header .container{display:flex; align-items:center; justify-content:space-between; padding:12px 0}
.logo{color:#fff; text-decoration:none; font-weight:800; letter-spacing:.5px}
.nav a{color:var(--text); text-decoration:none; margin-inline:10px; padding:6px 10px; border-radius:12px; border:1px solid transparent}
.nav a:hover{border-color:var(--border)}
.nav .active{border-color:var(--border); background:#0b1222}
.nav .cta{background:linear-gradient(90deg,#16a34a,#22c55e); color:#0b1222; font-weight:700}

.hero{padding:64px 0; text-align:center}
.hero h1{font-size:clamp(28px,5vw,42px); margin:0 0 10px}
.hero p{color:var(--muted); margin:0 0 24px}
.hero-actions{display:flex; gap:12px; justify-content:center}
.btn{display:inline-block; padding:10px 16px; border-radius:14px; background:#0b1222; color:#text; text-decoration:none; border:1px solid var(--border); cursor:pointer}
.btn:hover{background:#0d1425}
.btn-primary{background:var(--primary); color:#052e16; border-color:transparent}
.btn-primary:hover{background:var(--primary-600)}

.features-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:16px; padding:24px 0 64px}
.feature-card{background:var(--card); border:1px solid var(--border); border-radius:20px; padding:18px; box-shadow:0 10px 25px rgba(0,0,0,.25)}

.content{padding:32px 0}
.content h1{margin-top:0}
.illustration img{width:100%; border-radius:18px; border:1px solid var(--border)}
.illustration figcaption{color:var(--muted); font-size:14px; margin-top:6px}

.card{background:var(--card); border:1px solid var(--border); border-radius:20px; padding:18px; box-shadow:0 10px 25px rgba(0,0,0,.25)}
.grid-2{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:16px}
label{display:flex; flex-direction:column; gap:6px}
input, select{width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--border); background:#0b1222; color:var(--text); outline:none}
input:focus, select:focus{box-shadow:0 0 0 4px var(--ring)}
.form-actions{display:flex; gap:12px; margin-top:12px}
.status{min-height:24px; margin-top:10px; color:var(--muted)}
.hint{margin-top:14px; color:var(--muted)}
.site-footer{border-top:1px solid var(--border); margin-top:40px}
.site-footer .container{padding:16px 0; font-size:14px; color:var(--muted)}
```

---

## script.js (לוגיקת טופס + זמינות מול Apps Script)
> חשוב: לאחר שתפרסם את ה-Apps Script, עדכן כאן את `FORM_ENDPOINT` לכתובת ה-Web App שקיבלת.

```javascript
// === הגדרות כלליות ===
// כתובת ה-Web App לאחר פרסום ה-Apps Script (ראה README)
const FORM_ENDPOINT = "YOUR_DEPLOYED_WEB_APP_URL"; // לדוגמה: https://script.google.com/macros/s/AKfycbx.../exec

// טווח שעות אפשרי (ניתן להתאים): 09:00–17:00 בהפרשים של 30 דק׳
const SLOT_START = 9;   // 9:00
const SLOT_END   = 17;  // 17:00
const SLOT_STEP_MIN = 30;

// ימי השבוע שמותרים לרישום (0=ראשון ... 6=שבת). לדוגמה: א׳–ה׳ בלבד
const ALLOWED_WEEKDAYS = [0,1,2,3,4];

// תאריך מינימלי לרישום – מחר (אפשר לשנות ל-0 כדי לאפשר מהיום)
const MIN_START_OFFSET_DAYS = 1;

// === עזרי תצוגה ===
function pad(n){return String(n).padStart(2,'0');}
function toISODate(d){return d.toISOString().slice(0,10);}

function buildTimeSlots(){
  const slots = [];
  for(let h=SLOT_START; h<=SLOT_END; h++){
    for(let m=0; m<60; m+=SLOT_STEP_MIN){
      const label = `${pad(h)}:${pad(m)}`;
      slots.push(label);
    }
  }
  return slots;
}

function isAllowedWeekday(dateStr){
  const d = new Date(dateStr + 'T00:00:00');
  const wd = d.getDay(); // 0=Sunday
  return ALLOWED_WEEKDAYS.includes(wd);
}

// === שליפת זמינות מהשרת ===
async function fetchTakenTimes(dateStr){
  if(!FORM_ENDPOINT) return [];
  const url = new URL(FORM_ENDPOINT);
  url.searchParams.set('date', dateStr);
  const res = await fetch(url, { method:'GET' });
  if(!res.ok){
    console.warn('fetchTakenTimes failed', res.status);
    return [];
  }
  const data = await res.json();
  return Array.isArray(data.taken) ? data.taken : [];
}

// === מילוי רשימת השעות ו"ביטול" תפוסות ===
async function populateTimeSelect(dateStr){
  const select = document.getElementById('timeSelect');
  select.innerHTML = '<option value="" disabled selected>בחר שעה…</option>';
  const slots = buildTimeSlots();
  const taken = await fetchTakenTimes(dateStr);
  const takenSet = new Set(taken);
  slots.forEach(t => {
    const opt = document.createElement('option');
    opt.value = t; opt.textContent = t;
    if(takenSet.has(t)){
      opt.disabled = true; opt.textContent = `${t} (תפוס)`;
    }
    select.appendChild(opt);
  });
}

// === אתחול טופס ===
function initForm(){
  const form = document.getElementById('registration-form');
  if(!form) return;
  const datePicker = document.getElementById('datePicker');
  const statusEl = document.getElementById('status');
  const resetBtn = document.getElementById('resetBtn');

  const today = new Date();
  const minDate = new Date(today);
  minDate.setDate(today.getDate() + MIN_START_OFFSET_DAYS);
  datePicker.min = toISODate(minDate);

  datePicker.addEventListener('change', async (e) => {
    const value = e.target.value;
    if(!value) return;
    if(!isAllowedWeekday(value)){
      statusEl.textContent = 'לא ניתן לבחור תאריך זה. בחרו יום א׳–ה׳.';
      document.getElementById('timeSelect').innerHTML = '<option value="" disabled selected>בחר שעה…</option>';
      return;
    }
    statusEl.textContent = 'טוען זמינות…';
    await populateTimeSelect(value);
    statusEl.textContent = '';
  });

  resetBtn?.addEventListener('click', ()=>{
    statusEl.textContent = '';
  });

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    statusEl.textContent = 'שולח…';

    const formData = new FormData(form);
    const payload = Object.fromEntries(formData.entries());

    if(!payload.date){ statusEl.textContent = 'בחרו תאריך.'; return; }
    if(!isAllowedWeekday(payload.date)){ statusEl.textContent = 'בחרו יום א׳–ה׳.'; return; }
    if(!payload.time){ statusEl.textContent = 'בחרו שעה.'; return; }

    try{
      const res = await fetch(FORM_ENDPOINT, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });
      const data = await res.json();
      if(res.ok && data.success){
        form.reset();
        document.getElementById('timeSelect').innerHTML = '<option value="" disabled selected>בחר שעה…</option>';
        statusEl.textContent = 'נרשמתם בהצלחה! התקבל אישור.';
      } else {
        statusEl.textContent = data.message || 'אירעה שגיאה בשליחה.';
      }
    }catch(err){
      console.error(err);
      statusEl.textContent = 'שגיאת רשת. נסו שוב מאוחר יותר.';
    }
  });
}

if(document.readyState === 'loading'){
  document.addEventListener('DOMContentLoaded', initForm);
}else{
  initForm();
}
```

---

## apps_script.gs (Google Apps Script – צד שרת + כתיבה ל-Google Sheets)
> לפני פרסום: צרו גיליון בשם `Registrations` עם כותרות העמודות: `Timestamp, Full Name, Email, Phone, Date, Time, Notes`

```javascript
/**
 * Google Apps Script – Web App שמקבל רישומים ושומרם ל-Google Sheets.
 * מספק 2 פעולות:
 *  - GET  ?date=YYYY-MM-DD   → מחזיר רשימת שעות תפוסות לתאריך.
 *  - POST {fullName,email,phone,date,time,notes} → מוסיף רישום אם המועד פנוי.
 */

const SHEET_NAME = 'Registrations';
const HEADERS = ['Timestamp','Full Name','Email','Phone','Date','Time','Notes'];

function getSheet_(){
  const ss = SpreadsheetApp.getActive();
  let sh = ss.getSheetByName(SHEET_NAME);
  if(!sh){ sh = ss.insertSheet(SHEET_NAME); }
  if(sh.getLastRow() === 0){ sh.appendRow(HEADERS); }
  return sh;
}

function json_(obj){
  const out = ContentService.createTextOutput(JSON.stringify(obj));
  out.setMimeType(ContentService.MimeType.JSON);
  return out;
}

function doGet(e){
  try{
    const sh = getSheet_();
    const date = e && e.parameter && e.parameter.date ? String(e.parameter.date) : '';
    if(!date){
      return json_({ ok:true, message:'ping' });
    }
    const lastRow = sh.getLastRow();
    if(lastRow < 2){ return json_({ taken: [] }); }
    const values = sh.getRange(2, 1, lastRow-1, HEADERS.length).getValues();
    const dateIdx = HEADERS.indexOf('Date');
    const timeIdx = HEADERS.indexOf('Time');

    const taken = [];
    values.forEach(row => {
      const d = row[dateIdx];
      const t = row[timeIdx];
      const dStr = (d instanceof Date) ? Utilities.formatDate(d, Session.getScriptTimeZone(), 'yyyy-MM-dd') : String(d);
      if(dStr === date){ taken.push(String(t)); }
    });
    return json_({ taken });
  }catch(err){
    return json_({ taken: [], error:String(err) });
  }
}

function doPost(e){
  try{
    const sh = getSheet_();
    const body = e && e.postData && e.postData.contents ? e.postData.contents : '{}';
    const data = JSON.parse(body);

    const fullName = (data.fullName || '').trim();
    const email    = (data.email    || '').trim();
    const phone    = (data.phone    || '').trim();
    const dateStr  = (data.date     || '').trim();
    const timeStr  = (data.time     || '').trim();
    const notes    = (data.notes    || '').trim();

    if(!fullName || !email || !phone || !dateStr || !timeStr){
      return json_({ success:false, message:'Missing fields' });
    }

    const lastRow = sh.getLastRow();
    if(lastRow >= 2){
      const values = sh.getRange(2, 1, lastRow-1, HEADERS.length).getValues();
      const dateIdx = HEADERS.indexOf('Date');
      const timeIdx = HEADERS.indexOf('Time');
      for(const row of values){
        const d = row[dateIdx];
        const t = row[timeIdx];
        const dStr = (d instanceof Date) ? Utilities.formatDate(d, Session.getScriptTimeZone(), 'yyyy-MM-dd') : String(d);
        const tStr = String(t);
        if(dStr === dateStr && tStr === timeStr){
          return json_({ success:false, message:'המועד כבר תפוס. נא לבחור שעה אחרת.' });
        }
      }
    }

    const parts = dateStr.split('-');
    const jsDate = new Date(Number(parts[0]), Number(parts[1]) - 1, Number(parts[2]));

    const now = new Date();
    sh.appendRow([ now, fullName, email, phone, jsDate, timeStr, notes ]);

    // אופציונלי: מייל למנהל (שנה לכתובת שלך)
    // MailApp.sendEmail('you@example.com', 'רישום חדש', `שם: ${fullName}\nמייל: ${email}\nטלפון: ${phone}\nתאריך: ${dateStr}\nשעה: ${timeStr}\nהערות: ${notes}`);

    return json_({ success:true });
  }catch(err){
    return json_({ success:false, message:String(err) });
  }
}
```

---

## README.md (הוראות חיבור והעלאה לאוויר)
```md
# אתר מידע + רישום (Google Sheets)

## 1) הכנת Google Sheet
1. פתח/י Google Drive → צור/צרי Google Sheets חדש.
2. קרא/י לגיליון: **Registrations** (או עדכן/י את השם בקובץ apps_script.gs).
3. בשורה הראשונה הזן/י את הכותרות: `Timestamp | Full Name | Email | Phone | Date | Time | Notes`.

## 2) יצירת Google Apps Script
1. בגיליון: **Extensions → Apps Script**.
2. מחק/י קוד קיים והדבק/י את `apps_script.gs`.
3. שמור/י.
4. **Deploy → New deployment** → סוג: *Web app*.
   - **Execute as**: *Me*
   - **Who has access**: *Anyone* (או *Anyone with the link*)
5. אשר/י הרשאות וקבל/י **Web App URL**.

## 3) חיבור הפרונטאנד ל-Apps Script
1. פתח/י `script.js` ועדכן/י את `FORM_ENDPOINT` ל-Web App URL שקיבלת.
2. שמור/י קבצים.

## 4) בדיקה מקומית
פתח/י `index.html` בדפדפן. עבר/י ל-"רישום", בחר/י תאריך, חכי לטעינת השעות, מלא/י ושלח/י.

## 5) העלאה לאינטרנט
### A. Netlify (קל ומהיר)
- גרור/י את תיקיית הפרויקט ל-Netlify או חבר/י לרפוזיטורי GitHub. תקבל/י דומיין `*.netlify.app`.

### B. GitHub Pages
1. צר/י רפוזיטורי חדש והעלה/י את כל הקבצים.
2. **Settings → Pages → Source**: `Deploy from a branch`, ענף `main`.
3. קבל/י כתובת `https://username.github.io/repo/`.

## 6) התאמות
- שעות: `SLOT_START`, `SLOT_END`, `SLOT_STEP_MIN` ב-`script.js`.
- ימי פעילות: `ALLOWED_WEEKDAYS` (0=א׳ ... 6=ש׳).
- מרווח מינימלי לפני רישום: `MIN_START_OFFSET_DAYS`.
- מייל התראה: הפעל/י את שורת `MailApp.sendEmail` בקובץ `apps_script.gs`.

## 7) הערות אבטחה
פתרון זה מיועד לפרויקט קטן. אין ניהול משתמשים. לרמת אבטחה גבוהה יותר שקלו אימות Google או backend ייעודי.
```

